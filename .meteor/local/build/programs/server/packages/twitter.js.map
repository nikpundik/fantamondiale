{"version":3,"file":"\\packages\\twitter.js","sources":["twitter/twitter_server.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,a;;AAEA,Y;AACA,8D;AACA,uD;AACA,4D;AACA,4D;AACA,E;;;AAGA,sE;AACA,qF;;AAEA,kE;AACA,sG;;AAEA,qB;AACA,wB;AACA,qC;AACA,4D;AACA,uE;AACA,I;;AAEA,wC;AACA,2D;AACA,gC;;AAEA,U;AACA,6B;AACA,c;AACA,gB;AACA,2B;AACA,O;AACA,K;AACA,I;AACA,G;;;AAGA,0E;AACA,qE;AACA,E","sourcesContent":["Twitter = {};\r\n\r\nvar urls = {\r\n  requestToken: \"https://api.twitter.com/oauth/request_token\",\r\n  authorize: \"https://api.twitter.com/oauth/authorize\",\r\n  accessToken: \"https://api.twitter.com/oauth/access_token\",\r\n  authenticate: \"https://api.twitter.com/oauth/authenticate\"\r\n};\r\n\r\n\r\n// https://dev.twitter.com/docs/api/1.1/get/account/verify_credentials\r\nTwitter.whitelistedFields = ['profile_image_url', 'profile_image_url_https', 'lang'];\r\n\r\nOAuth.registerService('twitter', 1, urls, function(oauthBinding) {\r\n  var identity = oauthBinding.get('https://api.twitter.com/1.1/account/verify_credentials.json').data;\r\n\r\n  var serviceData = {\r\n    id: identity.id_str,\r\n    screenName: identity.screen_name,\r\n    accessToken: OAuth.sealSecret(oauthBinding.accessToken),\r\n    accessTokenSecret: OAuth.sealSecret(oauthBinding.accessTokenSecret)\r\n  };\r\n\r\n  // include helpful fields from twitter\r\n  var fields = _.pick(identity, Twitter.whitelistedFields);\r\n  _.extend(serviceData, fields);\r\n\r\n  return {\r\n    serviceData: serviceData,\r\n    options: {\r\n      profile: {\r\n        name: identity.name\r\n      }\r\n    }\r\n  };\r\n});\r\n\r\n\r\nTwitter.retrieveCredential = function(credentialToken, credentialSecret) {\r\n  return OAuth.retrieveCredential(credentialToken, credentialSecret);\r\n};\r\n"]}